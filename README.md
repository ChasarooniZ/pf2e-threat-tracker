# PF2e Threat Tracker for Foundry VTT
PF2e Threat Tracker is a Foundry VTT module that tracks threat generated by player characters and ally NPCs in a Pathfinder 2e system. It maintains a threat table for each enemy, showing which characters have generated the most attention. The module displays a floating panel listing each enemy and its top threat-holders, helping Game Masters monitor aggro during combat.

This module is compatible with Foundry VTT v13+ (it will still load on v12, but v12-specific bugs will not be fixed).

Sequencer support is optional – if Sequencer is installed, the module can play visual effects for selectec token of wich is the highest priority target.

## Features
- Threat Tracking: Automatically tracks threat from common actions (damage, healing, taunts, etc.) for each character against each enemy.
- Threat Panel: A floating UI panel (toggleable via the sidebar) lists every enemy token in the scene along with the top threat-generators (the PCs or allies who have the highest threat on that enemy). This updates in real time during play.
- Trait & Vulnerability Configuration (WIP): For each enemy, the GM can configure trait-based multipliers and vulnerabilities through a GUI. For example, if an enemy is vulnerable to fire, attacks with the fire trait can add extra threat. These settings adjust how threat is calculated.
- Sequencer Visual Effects (Optional): If the Sequencer module is installed, Zinneryte can trigger animations or effects on tokens when threat thresholds are reached or changed
-- This provides visual cues tied to threat events (e.g. a glowing highlight when a character overtakes another in threat).
- Persistent Storage: Zinneryte stores each enemy’s threat table inside that enemy’s Actor flags
-- This means threat data persists on the enemy’s data and can survive across scenes or sessions as appropriate.
## Installation
Copy the Manifest URL for Zinneryte (this URL should end in module.json).
In Foundry VTT, go to Add-on Modules → Install Module. At the bottom of the window, select the “Manifest URL” field and paste in the URL.
Click Install. Foundry will download and install  PF2e Threat Tracker.
Activate  PF2e Threat Tracker by enabling it in your world’s Add-on Modules list, then click Save Module Settings. The world will reload with PF2e Threat Tracker active.
## Usage
- Opening the Threat Panel: With PF2e Threat Tracker enabled, the Threat Tracker panel will open automatically on combat start. The panel will list all enemy tokens in the scene.
- Monitoring Threat: During combat, any time a player character deals damage, provides healing, or uses a configured action or ability against an enemy, the module increases that character’s threat on that enemy. The panel shows the top three threat-holders per enemy. This lets the GM quickly see who each creature is most likely to attack.
- Configuring an Enemy’s Threat (WIP): To adjust enemyies threat behavior, open the trait configuration menu on the module settings or when a combat starts, search for the traits you want to adjust and play with numbers. For example, you can specify that “fire” attacks do x1.5 threat to creatures with the plant trait These values will then be applied whenever calculating threat.
- Sequencer Effect: If Sequencer is available, PF2e Threat Tracker can play a brief animation or effect when threat is generated or when a new highest-threat character is recorded
You can enable or disable these effects in the module settings.
## Configuration
Zinneryte’s configurable options can be found in the Foundry Settings → Module Settings → Zinneryte section. Key configuration options include:
1. Trait/Vulnerability Editor: Access the GUI to set default trait multipliers and specific vulnerabilities for enemies. This interface allows quick editing of threat modifiers per trait.
2. Panel Options: Options for how the Threat Panel is displayed (for example, max entries per enemy, sort order, or whether the panel auto-hides).
3. Logging & Thresholds: Adjust logging verbosity or define thresholds (e.g. only display an effect when threat changes by a certain amount).
4. Sequencer Integration: Toggle whether the module uses the Sequencer module for threat animations

###Roadmap
Partially Implemented Features
- Trait Multipliers (basic): Initial support for trait-based threat multipliers is in place. Some traits can be configured, but edge cases or additional traits may be added later.
- Vulnerability Settings: Core vulnerability adjustments exist, but more nuanced stacking rules or exceptions may be refined in future.
- UI Improvements (Work In Progress)
- Trait Editor Layout: Redesign the trait/vulnerability editor window for easier navigation (better grouping, tooltips, etc.).
- Threat Panel Enhancements: Improving the layout and styling of the floating panel (for example, auto-resizing, customizable colors, or drag/drop ordering of targets).
- Accessibility: Adding hotkeys or alternate interfaces for opening/closing the panel and resetting threat tables.
Future Ideas
- Enhanced Animations: Use Sequencer or other VFX modules to add more dynamic animations when high threat events occur (e.g. highlight tokens, flash icons).
- Distance-Based Modifiers: Add options for threat falloff by distance or special modifiers when characters move closer/farther from enemies.
- Additional Triggers: Support more actions/abilities (such as special skills or conditions) that generate or reduce threat, based on PF2e updates or community feedback.
Contributions and feedback are welcome! Please report issues or suggestions via the project’s GitHub.
